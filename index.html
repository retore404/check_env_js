<!DOCTYPE html>
<head>
    <title></title>
    <link rel="manifest" href="manifest.json">
    <script src="pwa.js"></script>
    <script>
        function init(){
            // OS判定
            let ua = window.navigator.userAgent.toLowerCase();
            
            if(ua.indexOf("windows nt") !== -1) {
                document.getElementById("os").innerHTML = "Windows";
            } else if(ua.indexOf("android") !== -1) {
                document.getElementById("os").innerHTML = "Android";
            } else if(ua.indexOf("iphone") !== -1 || ua.indexOf("ipad") !== -1) {
                document.getElementById("os").innerHTML = "iOS";
            } else if(ua.indexOf("mac os x") !== -1) {
                document.getElementById("os").innerHTML = "macOS";
            } else {
                document.getElementById("os").innerHTML = "OS NOT FOUND";
            }

            // PWA判定
            if(window.matchMedia('(display-mode: standalone)').matches){
                document.getElementById("pwa").innerHTML = "PWA";
            } else {
                document.getElementById("pwa").innerHTML = "NOT PWA";
            }

            // 縦定義サイズ
            alert("Start to change div height.");
            document.getElementById("wrapper").classList.add("temp");
            alert("Start to re-change div height.");
            document.getElementById("wrapper").classList.remove("temp");            
        }
    </script>
    <style>
        .all {
            height: 100vh;
            height: 100dvh;
            background-color: aquamarine;
        }

        .temp {
            height: 75vh !important;
            height: 75dvh !important;
        }
    </style>
</head>
<body onload="init()">
    <div id="wrapper" class="all">
        <div>
            <span>実行OS：</span>
            <span id="os"></span>
        </div>
        <div>
            <span>PWA：</span>
            <span id="pwa"></span>
        </div>
        <div>
            <span>Orientation：</span>
            <span id="orientation"></span>
        </div>
    </div>
</body>
</html>